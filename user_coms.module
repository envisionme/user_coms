<?php

/**
* Implementation of hook_menu
**/
function user_coms_menu() {
	$items = array();
  $items['user_coms/no_profile_pic'] = array(
		'title' => 'List Users - No Profile Picture',
		'page callback' => 'user_coms_no_profile_pic_page',
    'access callback' => TRUE,
		'type' => MENU_NORMAL_ITEM,
	);
	
	$items['user_coms/pic_but_profile_incomplete'] = array(
		'title' => 'List Users - Profile Incomplete',
		'page callback' => 'user_coms_pic_but_profile_incomplete_page',
		'access callback' => TRUE,
		'type' => MENU_NORMAL_ITEM,
	);

	$items['user_coms/completed_profile_but_no_profile_video'] = array(
		'title' => 'List Users - No Profile Video',
		'page callback' => 'user_coms_completed_profile_but_no_profile_video_page',
		'access callback' => TRUE,
		'type' => MENU_NORMAL_ITEM,
	);

	$items['user_coms/no_showcase_items'] = array(
		'title' => 'List Users - No Showcase Items',
		'page callback' => 'user_coms_no_showcase_items_page',
		'access callback' => TRUE,
		'type' => MENU_NORMAL_ITEM,
	);
	return $items;
}

/**
* Page Callbacks
*/
function user_coms_no_profile_pic_page($aid) {
  $result = db_query("SELECT * FROM {content_type_uprofile} INNER JOIN {node} ON {content_type_uprofile}.nid = {node}.nid WHERE {content_type_uprofile}.field_profile_image_list IS NULL");  
  while($object = db_fetch_object($result)) {
      $user_ids[] = $object->uid;  
      $output .= $object->uid.'<br />';
  }
	return $output;
}

function user_coms_pic_but_profile_incomplete_page($aid) {
	$result = db_query("SELECT * FROM {content_complete} INNER JOIN {node} ON {content_complete}.nid = {node}.nid WHERE {content_complete}.completeness < 50");  
  while($object = db_fetch_object($result)) {
      $user_ids[] = $object->uid;  
      $output .= $object->uid.'<br />';
  }
	return $output;
}

function user_coms_completed_profile_but_no_profile_video_page($aid) {
	$result = db_query("SELECT * FROM {flag_content} INNER JOIN {node} ON {flag_content}.nid = {node}.nid WHERE {flag_content}.nid = 5");  
  while($object = db_fetch_object($result)) {
      $user_ids[] = $object->uid;  
      $output .= $object->uid.'<br />';
  }
	return $output;
}

function user_coms_no_showcase_items_page($aid) {
	$output = 'No Showcase Items Page';
	return $output;
}

